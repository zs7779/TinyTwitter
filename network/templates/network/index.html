{% extends "network/layout.html" %}
{% load static %}

{% block body %}

<div id="project4" class="container">
    <div class="row justify-content-center">
        <div class="col-8">
            <div><button class="btn btn-outline-primary btn-sm" type="button" v-on:click="getPosts">Refresh</button></div>
            {% if request.user.is_authenticated %}
            <new-post v-on:new-post-ok="getPosts">{% csrf_token %}</new-post>
            {% endif %}
            <post-feed v-bind:posts="posts"></post-feed>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        const endpoint_posts = "{% url 'posts' %}";
        const endpoint_post = "{% url 'post' %}";
        const endpoint_user = "{% url 'user' %}";
    </script>
    <script type="text/javascript" src="{% static 'network/index.js' %}"></script>
{% endblock %}